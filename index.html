<!DOCTYPE HTML>
<html lang="es">
<head>
	<meta charset="UTF-8" />
	<title>Grafo Condorcet-Schulze</title>
	<script src="grafocondorcet.js" type="text/javascript"></script>
<style>
#centrador {
	width: 600px;
	margin: 10px auto;
	padding: 20px;
	border: solid 1px #ccc;
}
</style>
</head>
<body>
<div id="centrador">
	<h1>Grafo Condorcet-Schulze</h1>

	<p>En un sistema Condorcet de votación preferencial tu voto no se reduce a que elijas la opción
que más te gusta, si no que puedes ordenar las opciones según tu preferencia. Esto permite que la opción
ganadora sea la de más consenso, que no tiene porqué ser la que más veces haya sido elegida en primer lugar.</p>

	<p>Uno de los métodos de decisión más potentes que se pueden emplear en sistemas Condorcet es el Schulze,desarrollado en 1997 por Markus Schulze y el que utilizan organizaciones como Debian o Wikimedia.</p>

	<p>Puedes encontrar una explicación completa del método en <a href="http://en.wikipedia.org/wiki/Schulze_method">http://en.wikipedia.org/wiki/Schulze_method</a>

	<p>La función grafo_condorcet es una utilidad escrita en javascript que dibuja el grafo asociado a la matriz de pares en un canvas. No depende de ningún framework y funciona en cualquier navegador que soporte HTML5</p>

	<h2>USO</h2>
<ol>
	<li>Incluir grafocondorcet.js en el head de tu página:<br />
	<i>&lt;script src="grafocondorcet.js" type="text/javascript"&gt;&lt;/script&gt;</i></li>
	<li>Definir la etiqueta o etiquetas canvas dentro del body y darle un nombre al atributo id:<br />
	<i>&lt;canvas id="grafo" width="600" height="600"&gt;&lt;canvas&gt;</i></li>
	<li>Invocar la función:<br /><pre>
	&lt;script type="text/javascript"&gt;
		var votaciones = [
			["A", 0, 20, 26, 30, 22],
			["B", 25, 0, 16, 33, 18],
			["C", 19, 29, 0, 17, 24],
			["D", 15, 12, 28, 0, 14],
			["E", 23, 27, 21, 31, 0]
			];
	
		var canvas = grafo_condorcet ('grafo', votaciones);
	&lt;/script&gt;
	</pre></li>
</ol>

	<h2>TEST</h2>
	<textarea id="votaciones" style="width:100%;height:120px;">
[
["A", 0, 20, 26, 30, 22],
["B", 25, 0, 16, 33, 18],
["C", 19, 29, 0, 17, 24],
["D", 15, 12, 28, 0, 14],
["E", 23, 27, 21, 31, 0]
];
	</textarea>
	<button id="pintar">Dibujar el grafo</button>
	<canvas id="grafo" width="600" height="600"></canvas>
</div>
<script type="text/javascript">

function dibuja() {
	var votaciones = eval(document.getElementById('votaciones').value);
	var canvas = grafo_condorcet ('grafo', votaciones);
}

dibuja();

document.getElementById('pintar').addEventListener('click', dibuja, false);

</script>

</body>
</html>
